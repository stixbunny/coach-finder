import{B as l,k as q,r as p}from"./index-b0658763.js";const g=l("requests",()=>{const c="https://vue-coaches-3b3ce-default-rtdb.firebaseio.com",u=q(),o=p([]);async function i(e){const s={userEmail:e.email,message:e.message},r=await fetch(`${c}/requests/${e.coachId}.json`,{method:"POST",body:JSON.stringify(s)}),t=await r.json();if(!r.ok)throw new Error(t.message||"Failed to send request.");s.id=t.name,s.coachId=e.coachId,o.value.push(s)}async function h(){const e=u.token,s=u.userId,r=await fetch(`${c}/requests/${s}.json?auth=${e}`),t=await r.json();if(!r.ok)throw new Error(t.message||"Failed to fetch requests.");const n=[];for(const a in t){const m={id:a,coachId:s,userEmail:t[a].userEmail,message:t[a].message};n.push(m)}d(n)}function d(e){o.value=e}function f(){return o.value&&o.value.length>0}return{requests:o,addRequest:i,hasRequests:f,fetchRequests:h}});export{g as u};
